{% extends 'layout.html' %}

{% block title %}
    Bookkeeper
{% endblock %}


{% block main %}
    <div class='container-fluid'>
        <tr>Pending Transactions</tr>
        {% with transactions = transactions, pending = 1, categories = categories %}
            {% include 'dashboard/transactions-table.html' %}
        {% endwith %}

        {# PROCESSED TRANSACTIONS #}
        {% with transactions = transactions, pending = 0, categories = categories %}
            {% include 'dashboard/transactions-table.html' %}
        {% endwith %}

        <div class='row'>
            <div class='col'>
                {% include 'dashboard/upload-csv.html' %}
            </div>
            <div class='col'>
                <fieldset>
                    <legend>
                        Manual Input
                    </legend>
                    <form action='{{ url_for('dashboard.save_transaction') }}' id='manual-upload-form' method='post'>
                        <label for='description-input'>Transaction Description:</label>
                        <input type='text' class='manual-input' name='description' id='description-input'>
                        <label for='amount-input'>Amount $:</label>
                        <input type='number' step='0.01' class='manual-input' id='amount-input' name='amount'>
                        <select name='category' id='manual-select-category' class='manual-input'>
                            {% for category in categories %}
                            <option class='manual-input' value='{{ category['category'] }}'>{{ category['category'] }}</option>
                            {% endfor %}
                        </select>
                        <label for='transaction-date-input'>Transaction Date:</label>
                        <input type='date' class='manual-input' id='transaction-date-input' name='transaction_date'>
                        <button class='manual-input' id='manual-input-button' type='submit'>Save</button>
                    </form>
                </fieldset>
            </div>
        </div>
    </div>
    <script type='text/javascript' src='{{ url_for('static', filename='js/sort-table.js') }}'></script>
    <script type='text/javascript' src='{{ url_for('static', filename='js/edit-description.js') }}'></script>
    <script type='text/javascript' src='{{ url_for('static', filename='js/update-accounts.js') }}'></script>
    <script type='text/javascript' src='{{ url_for('static', filename='js/edit-category.js') }}'></script>

{% endblock %}